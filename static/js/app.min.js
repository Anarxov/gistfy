function getVal(e){return $("#"+e).val()}function getBaseUrl(){return"gist"===getVal("type")?"/github/gist/"+getVal("gistid"):$scope.isRepo?"/"+getVal("host")+"/"+getVal("user")+"/"+getVal("repo")+"/"+getVal("file"):void 0}function getParams(e){var t=[],s=getVal("branch"),r=getVal("slicefrom"),i=getVal("sliceto"),l=getVal("lang"),o=getVal("style");return type=getVal("filetype"),s&&t.push("branch="+s),r&&i?t.push("slice="+r+":"+i):r?t.push("slice="+r):i&&t.push("slice="+i),l&&t.push("lang="+l),o&&t.push("style="+o),e?t.push("type=html"):type&&t.push("type="+type),t}function getQueryString(e){return e.length>0?"?"+e.join("&"):""}function showFile(){$(".result").hide();var e=getBaseUrl(),t=e+getQueryString(getParams()),s=e+getQueryString(getParams(!0));$.get(s).done(function(e){$(".result-url").text("//"+location.host+t),$("#html-result").html(e);var s=getVal("library");"jquery"===s?$(".result-all, .code, .jquery").show():"angular"===s?$(".result-all, .code, .angular").show():$(".result-all, .code, .js").show()}).fail(function(e,t,s){400===e.status||412===e.status?$("#error-msg").html(e.responseText):404===e.status?$("#error-msg").text("File not found."):$("#error-msg").text("Oh snap! There's an error."),$(".result-all, .error-msg").show()})}$(document).ready(function(){$("#btn-more").click(function(){$("#btn-more").hide(),$("#btn-less").show(),$(".show-more").show()}),$("#btn-less").click(function(){$("#btn-less").hide(),$("#btn-more").show(),$(".show-more").hide()}),$("#type").change(function(){var e=$(this).val();e?($("#btn-group").show(),"gist"===e?($(".is-repo").hide(),$(".is-gist").show()):"repo"===e&&($(".is-gist").hide(),$(".is-repo").show())):($("#btn-group").hide(),$(".is-gist").hide(),$(".is-repo").hide())}),$("#filetype").change(function(){var e=$(this).val();"html"===e?$(".is-html").show():$(".is-html").hide()}),$("select").change(function(){$("#gistid, #host, #user, #repo, #path, #library").each(function(e,t){$(t).is(":visible")?$(t).attr("required",""):$(t).removeAttr("required")})}),$("#formtry").submit(function(e){e.preventDefault(),showFile()})});